<form class='form-container' action="/payment_info/{{gym}}/{{class}}/{{membership_id}}" method="post">
    <h1>Payment info</h1>
    <div class="input-box">
        <input onkeydown="return /[a-z]/i.test(event.key)" name="fname" placeholder="First name" required>
    </div>
    <div class="input-box">
        <input onkeydown="return /[a-z]/i.test(event.key)" name="lname" placeholder="Last name" required>
    </div>
    <div class="input-box">
        <input id="ccn" type="tel" inputmode="numeric" pattern="[0-9\s]{13,19}" 
         autocomplete="cc-number" maxlength="19" 
         placeholder="Credit Card Number" required>
    </div>
    <div class="input-box">
        <input id="exp-date" type="tel" name="exp_date" inputmode="numeric"
        placeholder="Expiration date" required>
    </div>
    <div class="input-box">
        <input type="text" maxlength="3" name="cvv" placeholder="CVV" required>

    </div>
    <div class="remember-forgot">
        <label><input type="checkbox">Remember me.</label>
    </div>
    <button type="submit" class="btn">Submit</button>

    
</form>
<script>
    document.getElementById('ccn').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, ''); // Remove all non-digit characters
        let formattedValue = '';
        for (let i = 0; i < value.length; i += 4) {
            formattedValue += value.substring(i, i + 4) + '-';
        }
        formattedValue = formattedValue.substring(0, formattedValue.length - 1); // Remove the trailing dash
        e.target.value = formattedValue;
    });

    document.getElementById('exp-date').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, ''); // Remove all non-digit characters
        if (value.length > 2) {
            let month = value.substring(0, 2);
            let year = value.substring(2, 4);

            // Validate month
            if (parseInt(month, 10) < 1 || parseInt(month, 10) > 12) {
                month = '';
            }
            value = month + (year ? '/' + year : '');
        }
        e.target.value = value;
    });
</script>

